{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nexport const useDeletePostsFromFavorites = (setPosts, setFavoritePosts, setSelectedPosts) => {\n  const deletePostsFromFavorites = async (selectedPosts, favoritePosts) => {\n    const postsToDelete = [...selectedPosts];\n    const deleteRequests = postsToDelete.map(postId => axios.delete(`https://jsonplaceholder.typicode.com/posts/${postId}`));\n    try {\n      await Promise.all(deleteRequests);\n      setPosts(posts => posts.filter(post => !postsToDelete.includes(post.id)));\n      setFavoritePosts(favoritePosts => favoritePosts.filter(postId => !postsToDelete.includes(postId)));\n      setSelectedPosts(selectedPosts => selectedPosts.filter(postId => !postsToDelete.includes(postId)));\n      localStorage.setItem(\"favoritePosts\", JSON.stringify(favoritePosts));\n      toast.success(\"Selected posts removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some posts\");\n    }\n  };\n  return {\n    deletePostsFromFavorites\n  };\n};","map":{"version":3,"names":["axios","toast","useDeletePostsFromFavorites","setPosts","setFavoritePosts","setSelectedPosts","deletePostsFromFavorites","selectedPosts","favoritePosts","postsToDelete","deleteRequests","map","postId","delete","Promise","all","posts","filter","post","includes","id","localStorage","setItem","JSON","stringify","success","error"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useDeletePostsFromFavorites.js"],"sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nexport const useDeletePostsFromFavorites = (\n  setPosts,\n  setFavoritePosts,\n  setSelectedPosts\n) => {\n  const deletePostsFromFavorites = async (selectedPosts, favoritePosts) => {\n    const postsToDelete = [...selectedPosts];\n\n    const deleteRequests = postsToDelete.map((postId) =>\n      axios.delete(`https://jsonplaceholder.typicode.com/posts/${postId}`)\n    );\n\n    try {\n      await Promise.all(deleteRequests);\n\n      setPosts((posts) =>\n        posts.filter((post) => !postsToDelete.includes(post.id))\n      );\n\n      setFavoritePosts((favoritePosts) =>\n        favoritePosts.filter((postId) => !postsToDelete.includes(postId))\n      );\n\n      setSelectedPosts((selectedPosts) =>\n        selectedPosts.filter((postId) => !postsToDelete.includes(postId))\n      );\n\n      localStorage.setItem(\"favoritePosts\", JSON.stringify(favoritePosts));\n\n      toast.success(\"Selected posts removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some posts\");\n    }\n  };\n\n  return { deletePostsFromFavorites };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AAEvC,OAAO,MAAMC,2BAA2B,GAAGA,CACzCC,QAAQ,EACRC,gBAAgB,EAChBC,gBAAgB,KACb;EACH,MAAMC,wBAAwB,GAAG,MAAAA,CAAOC,aAAa,EAAEC,aAAa,KAAK;IACvE,MAAMC,aAAa,GAAG,CAAC,GAAGF,aAAa,CAAC;IAExC,MAAMG,cAAc,GAAGD,aAAa,CAACE,GAAG,CAAEC,MAAM,IAC9CZ,KAAK,CAACa,MAAM,CAAE,8CAA6CD,MAAO,EAAC,CACrE,CAAC;IAED,IAAI;MACF,MAAME,OAAO,CAACC,GAAG,CAACL,cAAc,CAAC;MAEjCP,QAAQ,CAAEa,KAAK,IACbA,KAAK,CAACC,MAAM,CAAEC,IAAI,IAAK,CAACT,aAAa,CAACU,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,CACzD,CAAC;MAEDhB,gBAAgB,CAAEI,aAAa,IAC7BA,aAAa,CAACS,MAAM,CAAEL,MAAM,IAAK,CAACH,aAAa,CAACU,QAAQ,CAACP,MAAM,CAAC,CAClE,CAAC;MAEDP,gBAAgB,CAAEE,aAAa,IAC7BA,aAAa,CAACU,MAAM,CAAEL,MAAM,IAAK,CAACH,aAAa,CAACU,QAAQ,CAACP,MAAM,CAAC,CAClE,CAAC;MAEDS,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAAChB,aAAa,CAAC,CAAC;MAEpEP,KAAK,CAACwB,OAAO,CAAC,wBAAwB,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdzB,KAAK,CAACyB,KAAK,CAAC,6BAA6B,CAAC;IAC5C;EACF,CAAC;EAED,OAAO;IAAEpB;EAAyB,CAAC;AACrC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}