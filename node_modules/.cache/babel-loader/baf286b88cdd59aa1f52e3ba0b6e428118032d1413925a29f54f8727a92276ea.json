{"ast":null,"code":"var _s = $RefreshSig$();\nimport { usePosts } from \"../context/postsContext\";\nimport { useFavorite } from \"../context/favoritiesPostsContext\";\nimport { useState } from \"react\";\nexport default function useFilterPosts() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const {\n    favoritePosts\n  } = useFavorite();\n  const {\n    posts\n  } = usePosts();\n  console.log(\"posts\", posts);\n  console.log(\"favoritePosts\", favoritePosts);\n  const userOptions = posts.map(post => ({\n    value: post.id,\n    label: post.user.name\n  }));\n\n  // Состояния для каждого из фильтров\n\n  // Функция для фильтрации постов\n  const filterPosts = posts => {\n    return posts.filter(post => {\n      const titleMatch = post.title.toLowerCase().includes(searchTerm.toLowerCase());\n      const userMatch = selectedUsers.length === 0 || selectedUsers.find(user => user.value === post.userId);\n      const favoriteMatch = favoritePosts.includes(post.id) || [];\n      return titleMatch && userMatch && favoriteMatch;\n    });\n  };\n  const filteredPosts = filterPosts(posts);\n  console.log(\"filteredPosts\", filteredPosts);\n  return {\n    filteredPosts,\n    userOptions,\n    searchTerm,\n    selectedUsers,\n    setSearchTerm,\n    setSelectedUsers,\n    favoritePosts\n  };\n}\n_s(useFilterPosts, \"eTlZd0EeqMDt0A4bOHgaYn1SHts=\", false, function () {\n  return [useFavorite, usePosts];\n});","map":{"version":3,"names":["usePosts","useFavorite","useState","useFilterPosts","_s","searchTerm","setSearchTerm","selectedUsers","setSelectedUsers","favoritePosts","posts","console","log","userOptions","map","post","value","id","label","user","name","filterPosts","filter","titleMatch","title","toLowerCase","includes","userMatch","length","find","userId","favoriteMatch","filteredPosts"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useFilterPosts.js"],"sourcesContent":["import { usePosts } from \"../context/postsContext\";\nimport { useFavorite } from \"../context/favoritiesPostsContext\";\nimport { useState } from \"react\";\n\nexport default function useFilterPosts() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  const { favoritePosts } = useFavorite();\n\n  const { posts } = usePosts();\n\n  console.log(\"posts\", posts);\n  console.log(\"favoritePosts\", favoritePosts);\n  const userOptions = posts.map((post) => ({\n    value: post.id,\n    label: post.user.name,\n  }));\n\n  // Состояния для каждого из фильтров\n\n  // Функция для фильтрации постов\n  const filterPosts = (posts) => {\n    return posts.filter((post) => {\n      const titleMatch = post.title\n        .toLowerCase()\n        .includes(searchTerm.toLowerCase());\n      const userMatch =\n        selectedUsers.length === 0 ||\n        selectedUsers.find((user) => user.value === post.userId);\n      const favoriteMatch = favoritePosts.includes(post.id) || [];\n      return titleMatch && userMatch && favoriteMatch;\n    });\n  };\n  const filteredPosts = filterPosts(posts);\n  console.log(\"filteredPosts\", filteredPosts);\n  return {\n    filteredPosts,\n    userOptions,\n\n    searchTerm,\n    selectedUsers,\n    setSearchTerm,\n    setSelectedUsers,\n\n    favoritePosts,\n  };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,WAAW,QAAQ,mCAAmC;AAC/D,SAASC,QAAQ,QAAQ,OAAO;AAEhC,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACK,aAAa,EAAEC,gBAAgB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEtD,MAAM;IAAEO;EAAc,CAAC,GAAGR,WAAW,CAAC,CAAC;EAEvC,MAAM;IAAES;EAAM,CAAC,GAAGV,QAAQ,CAAC,CAAC;EAE5BW,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;EAC3BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,aAAa,CAAC;EAC3C,MAAMI,WAAW,GAAGH,KAAK,CAACI,GAAG,CAAEC,IAAI,KAAM;IACvCC,KAAK,EAAED,IAAI,CAACE,EAAE;IACdC,KAAK,EAAEH,IAAI,CAACI,IAAI,CAACC;EACnB,CAAC,CAAC,CAAC;;EAEH;;EAEA;EACA,MAAMC,WAAW,GAAIX,KAAK,IAAK;IAC7B,OAAOA,KAAK,CAACY,MAAM,CAAEP,IAAI,IAAK;MAC5B,MAAMQ,UAAU,GAAGR,IAAI,CAACS,KAAK,CAC1BC,WAAW,CAAC,CAAC,CACbC,QAAQ,CAACrB,UAAU,CAACoB,WAAW,CAAC,CAAC,CAAC;MACrC,MAAME,SAAS,GACbpB,aAAa,CAACqB,MAAM,KAAK,CAAC,IAC1BrB,aAAa,CAACsB,IAAI,CAAEV,IAAI,IAAKA,IAAI,CAACH,KAAK,KAAKD,IAAI,CAACe,MAAM,CAAC;MAC1D,MAAMC,aAAa,GAAGtB,aAAa,CAACiB,QAAQ,CAACX,IAAI,CAACE,EAAE,CAAC,IAAI,EAAE;MAC3D,OAAOM,UAAU,IAAII,SAAS,IAAII,aAAa;IACjD,CAAC,CAAC;EACJ,CAAC;EACD,MAAMC,aAAa,GAAGX,WAAW,CAACX,KAAK,CAAC;EACxCC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEoB,aAAa,CAAC;EAC3C,OAAO;IACLA,aAAa;IACbnB,WAAW;IAEXR,UAAU;IACVE,aAAa;IACbD,aAAa;IACbE,gBAAgB;IAEhBC;EACF,CAAC;AACH;AAACL,EAAA,CA3CuBD,cAAc;EAAA,QAIVF,WAAW,EAEnBD,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}