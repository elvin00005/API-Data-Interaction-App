{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { ALBUMS_API } from \"../const/const\";\nexport const useDeleteAlbum = setAlbums => {\n  const deleteAlbum = async id => {\n    try {\n      await axios.delete(`${ALBUMS_API}/${id}`);\n      setAlbums(prevAlbums => prevAlbums.filter(album => album.id !== id));\n      let favorites = JSON.parse(localStorage.getItem(\"favoriteAlbums\"));\n      if (favorites) {\n        favorites = favorites.filter(albumId => albumId !== id);\n        localStorage.setItem(\"favoriteAlbums\", JSON.stringify(favorites));\n      }\n      toast.success(\"album deleted\");\n    } catch (error) {\n      toast.error(\"album not deleted\");\n    }\n  };\n  return {\n    deleteAlbum\n  };\n};","map":{"version":3,"names":["axios","toast","ALBUMS_API","useDeleteAlbum","setAlbums","deleteAlbum","id","delete","prevAlbums","filter","album","favorites","JSON","parse","localStorage","getItem","albumId","setItem","stringify","success","error"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useDeleteAlbum.js"],"sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { ALBUMS_API } from \"../const/const\";\n\nexport const useDeleteAlbum = (setAlbums) => {\n  const deleteAlbum = async (id) => {\n    try {\n      await axios.delete(`${ALBUMS_API}/${id}`);\n      setAlbums((prevAlbums) => prevAlbums.filter((album) => album.id !== id));\n\n      let favorites = JSON.parse(localStorage.getItem(\"favoriteAlbums\"));\n\n      if (favorites) {\n        favorites = favorites.filter((albumId) => albumId !== id);\n        localStorage.setItem(\"favoriteAlbums\", JSON.stringify(favorites));\n      }\n\n      toast.success(\"album deleted\");\n    } catch (error) {\n      toast.error(\"album not deleted\");\n    }\n  };\n  return { deleteAlbum };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,UAAU,QAAQ,gBAAgB;AAE3C,OAAO,MAAMC,cAAc,GAAIC,SAAS,IAAK;EAC3C,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;IAChC,IAAI;MACF,MAAMN,KAAK,CAACO,MAAM,CAAE,GAAEL,UAAW,IAAGI,EAAG,EAAC,CAAC;MACzCF,SAAS,CAAEI,UAAU,IAAKA,UAAU,CAACC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACJ,EAAE,KAAKA,EAAE,CAAC,CAAC;MAExE,IAAIK,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;MAElE,IAAIJ,SAAS,EAAE;QACbA,SAAS,GAAGA,SAAS,CAACF,MAAM,CAAEO,OAAO,IAAKA,OAAO,KAAKV,EAAE,CAAC;QACzDQ,YAAY,CAACG,OAAO,CAAC,gBAAgB,EAAEL,IAAI,CAACM,SAAS,CAACP,SAAS,CAAC,CAAC;MACnE;MAEAV,KAAK,CAACkB,OAAO,CAAC,eAAe,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdnB,KAAK,CAACmB,KAAK,CAAC,mBAAmB,CAAC;IAClC;EACF,CAAC;EACD,OAAO;IAAEf;EAAY,CAAC;AACxB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}