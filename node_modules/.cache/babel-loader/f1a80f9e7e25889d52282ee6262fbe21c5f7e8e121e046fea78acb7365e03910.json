{"ast":null,"code":"import axios from \"axios\";\nimport { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nexport const useDeletePosts = (setSelectedPosts, posts, setPosts, selectedPosts, favoritePosts, setFavoritePosts) => {\n  //   const [posts, setPosts] = useState(posts);\n\n  const deletePost = async id => {\n    try {\n      await axios.delete(`https://jsonplaceholder.typicode.com/posts/${id}`);\n      setPosts(posts.filter(post => post.id !== id));\n      toast.success(\"post deleted\");\n    } catch (error) {\n      toast.error(\"post not deleted\");\n    }\n  };\n  const deleteFromFavorities = async () => {\n    const postsToDelete = [...selectedPosts];\n    const deleteRequests = postsToDelete.map(postId => axios.delete(`https://jsonplaceholder.typicode.com/posts/${postId}`));\n    try {\n      await Promise.all(deleteRequests);\n      setPosts(posts.filter(post => !postsToDelete.includes(post.id)));\n      setFavoritePosts(favoritePosts.filter(postId => !postsToDelete.includes(postId)));\n      setSelectedPosts(selectedPosts.filter(postId => !postsToDelete.includes(postId)));\n      localStorage.setItem(\"favoritePosts\", JSON.stringify(favoritePosts));\n      toast.success(\"Selected posts removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some posts\");\n    }\n  };\n  return {\n    deletePost,\n    deleteFromFavorities\n  };\n};","map":{"version":3,"names":["axios","useState","toast","useDeletePosts","setSelectedPosts","posts","setPosts","selectedPosts","favoritePosts","setFavoritePosts","deletePost","id","delete","filter","post","success","error","deleteFromFavorities","postsToDelete","deleteRequests","map","postId","Promise","all","includes","localStorage","setItem","JSON","stringify"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useDeletePosts.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\n\nexport const useDeletePosts = (\n  setSelectedPosts,\n  posts,\n  setPosts,\n  selectedPosts,\n  favoritePosts,\n  setFavoritePosts\n) => {\n  //   const [posts, setPosts] = useState(posts);\n\n  const deletePost = async (id) => {\n    try {\n      await axios.delete(`https://jsonplaceholder.typicode.com/posts/${id}`);\n      setPosts(posts.filter((post) => post.id !== id));\n      toast.success(\"post deleted\");\n    } catch (error) {\n      toast.error(\"post not deleted\");\n    }\n  };\n  const deleteFromFavorities = async () => {\n    const postsToDelete = [...selectedPosts];\n\n    const deleteRequests = postsToDelete.map((postId) =>\n      axios.delete(`https://jsonplaceholder.typicode.com/posts/${postId}`)\n    );\n\n    try {\n      await Promise.all(deleteRequests);\n\n      setPosts(posts.filter((post) => !postsToDelete.includes(post.id)));\n\n      setFavoritePosts(\n        favoritePosts.filter((postId) => !postsToDelete.includes(postId))\n      );\n      setSelectedPosts(\n        selectedPosts.filter((postId) => !postsToDelete.includes(postId))\n      );\n\n      localStorage.setItem(\"favoritePosts\", JSON.stringify(favoritePosts));\n\n      toast.success(\"Selected posts removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some posts\");\n    }\n  };\n\n  return { deletePost, deleteFromFavorities };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,KAAK,QAAQ,iBAAiB;AAEvC,OAAO,MAAMC,cAAc,GAAGA,CAC5BC,gBAAgB,EAChBC,KAAK,EACLC,QAAQ,EACRC,aAAa,EACbC,aAAa,EACbC,gBAAgB,KACb;EACH;;EAEA,MAAMC,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC/B,IAAI;MACF,MAAMX,KAAK,CAACY,MAAM,CAAE,8CAA6CD,EAAG,EAAC,CAAC;MACtEL,QAAQ,CAACD,KAAK,CAACQ,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,CAAC;MAChDT,KAAK,CAACa,OAAO,CAAC,cAAc,CAAC;IAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdd,KAAK,CAACc,KAAK,CAAC,kBAAkB,CAAC;IACjC;EACF,CAAC;EACD,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,MAAMC,aAAa,GAAG,CAAC,GAAGX,aAAa,CAAC;IAExC,MAAMY,cAAc,GAAGD,aAAa,CAACE,GAAG,CAAEC,MAAM,IAC9CrB,KAAK,CAACY,MAAM,CAAE,8CAA6CS,MAAO,EAAC,CACrE,CAAC;IAED,IAAI;MACF,MAAMC,OAAO,CAACC,GAAG,CAACJ,cAAc,CAAC;MAEjCb,QAAQ,CAACD,KAAK,CAACQ,MAAM,CAAEC,IAAI,IAAK,CAACI,aAAa,CAACM,QAAQ,CAACV,IAAI,CAACH,EAAE,CAAC,CAAC,CAAC;MAElEF,gBAAgB,CACdD,aAAa,CAACK,MAAM,CAAEQ,MAAM,IAAK,CAACH,aAAa,CAACM,QAAQ,CAACH,MAAM,CAAC,CAClE,CAAC;MACDjB,gBAAgB,CACdG,aAAa,CAACM,MAAM,CAAEQ,MAAM,IAAK,CAACH,aAAa,CAACM,QAAQ,CAACH,MAAM,CAAC,CAClE,CAAC;MAEDI,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAACpB,aAAa,CAAC,CAAC;MAEpEN,KAAK,CAACa,OAAO,CAAC,wBAAwB,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdd,KAAK,CAACc,KAAK,CAAC,6BAA6B,CAAC;IAC5C;EACF,CAAC;EAED,OAAO;IAAEN,UAAU;IAAEO;EAAqB,CAAC;AAC7C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}