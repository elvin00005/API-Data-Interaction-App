{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { TODOS_API } from \"../const/const\";\nexport const useDeleteTodo = setTodos => {\n  const deleteTodo = async id => {\n    try {\n      await axios.delete(`${TODOS_API}/${id}`);\n      setTodos(prevTodos => prevTodos.filter(todo => todo.id !== id));\n      let favorites = JSON.parse(localStorage.getItem(\"favoriteTodos\"));\n      if (favorites) {\n        favorites = favorites.filter(postId => postId !== id);\n        localStorage.setItem(\"favoriteTodos\", JSON.stringify(favorites));\n      }\n      toast.success(\"todo deleted\");\n    } catch (error) {\n      toast.error(\"todo not deleted\");\n    }\n  };\n  return {\n    deleteTodo\n  };\n};","map":{"version":3,"names":["axios","toast","TODOS_API","useDeleteTodo","setTodos","deleteTodo","id","delete","prevTodos","filter","todo","favorites","JSON","parse","localStorage","getItem","postId","setItem","stringify","success","error"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useDeleteTodo.js"],"sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { TODOS_API } from \"../const/const\";\n\nexport const useDeleteTodo = (setTodos) => {\n  const deleteTodo = async (id) => {\n    try {\n      await axios.delete(`${TODOS_API}/${id}`);\n      setTodos((prevTodos) => prevTodos.filter((todo) => todo.id !== id));\n\n      let favorites = JSON.parse(localStorage.getItem(\"favoriteTodos\"));\n\n      if (favorites) {\n        favorites = favorites.filter((postId) => postId !== id);\n        localStorage.setItem(\"favoriteTodos\", JSON.stringify(favorites));\n      }\n\n      toast.success(\"todo deleted\");\n    } catch (error) {\n      toast.error(\"todo not deleted\");\n    }\n  };\n  return { deleteTodo };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,SAAS,QAAQ,gBAAgB;AAE1C,OAAO,MAAMC,aAAa,GAAIC,QAAQ,IAAK;EACzC,MAAMC,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC/B,IAAI;MACF,MAAMN,KAAK,CAACO,MAAM,CAAE,GAAEL,SAAU,IAAGI,EAAG,EAAC,CAAC;MACxCF,QAAQ,CAAEI,SAAS,IAAKA,SAAS,CAACC,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACJ,EAAE,KAAKA,EAAE,CAAC,CAAC;MAEnE,IAAIK,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC;MAEjE,IAAIJ,SAAS,EAAE;QACbA,SAAS,GAAGA,SAAS,CAACF,MAAM,CAAEO,MAAM,IAAKA,MAAM,KAAKV,EAAE,CAAC;QACvDQ,YAAY,CAACG,OAAO,CAAC,eAAe,EAAEL,IAAI,CAACM,SAAS,CAACP,SAAS,CAAC,CAAC;MAClE;MAEAV,KAAK,CAACkB,OAAO,CAAC,cAAc,CAAC;IAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdnB,KAAK,CAACmB,KAAK,CAAC,kBAAkB,CAAC;IACjC;EACF,CAAC;EACD,OAAO;IAAEf;EAAW,CAAC;AACvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}