{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { useTodos } from \"../context/todosContext\";\nimport { useFavoriteTodos } from \"../context/favoritiesTodosContext\";\nimport { TODOS_API } from \"../const/const\";\nexport const useDeleteTodosFromSelect = setSelectedTodos => {\n  _s();\n  const {\n    setTodos\n  } = useTodos();\n  const {\n    setFavoriteTodos\n  } = useFavoriteTodos();\n  const deleteTodos = async selectedTodos => {\n    const todoToDelete = [...selectedTodos];\n    console.log({\n      setTodos,\n      setFavoriteTodos\n    });\n    const deleteRequests = todoToDelete.map(todoId => axios.delete(`${TODOS_API}/${todoId}`));\n    try {\n      await Promise.all(deleteRequests);\n      setTodos(prevTodos => {\n        const filtered = prevTodos.filter(todo => !todoToDelete.includes(todo.id));\n        return filtered;\n      });\n      setFavoriteTodos(prevFavoriteTodos => {\n        const newFavoriteTodos = prevFavoriteTodos.filter(todoId => !todoToDelete.includes(todoId));\n        localStorage.setItem(\"favoriteTodos\", JSON.stringify(newFavoriteTodos));\n        return newFavoriteTodos;\n      });\n      setSelectedTodos(prevSelectedTodos => prevSelectedTodos.filter(todoId => !todoToDelete.includes(todoId)));\n      toast.success(\"Selected todos removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some todos\");\n    }\n  };\n  return {\n    deleteTodos\n  };\n};\n_s(useDeleteTodosFromSelect, \"AcQmViq08m0y0rPb97GCYUShFtw=\", false, function () {\n  return [useTodos, useFavoriteTodos];\n});","map":{"version":3,"names":["axios","toast","useTodos","useFavoriteTodos","TODOS_API","useDeleteTodosFromSelect","setSelectedTodos","_s","setTodos","setFavoriteTodos","deleteTodos","selectedTodos","todoToDelete","console","log","deleteRequests","map","todoId","delete","Promise","all","prevTodos","filtered","filter","todo","includes","id","prevFavoriteTodos","newFavoriteTodos","localStorage","setItem","JSON","stringify","prevSelectedTodos","success","error"],"sources":["/Users/elvin/Documents/practica/test/src/utilities/hooks/useDeleteTodosFromSelect.js"],"sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { useTodos } from \"../context/todosContext\";\nimport { useFavoriteTodos } from \"../context/favoritiesTodosContext\";\nimport { TODOS_API } from \"../const/const\";\n\nexport const useDeleteTodosFromSelect = (setSelectedTodos) => {\n  const { setTodos } = useTodos();\n  const { setFavoriteTodos } = useFavoriteTodos();\n  const deleteTodos = async (selectedTodos) => {\n    const todoToDelete = [...selectedTodos];\n    console.log({ setTodos, setFavoriteTodos });\n    const deleteRequests = todoToDelete.map((todoId) =>\n      axios.delete(`${TODOS_API}/${todoId}`)\n    );\n    try {\n      await Promise.all(deleteRequests);\n\n      setTodos((prevTodos) => {\n        const filtered = prevTodos.filter(\n          (todo) => !todoToDelete.includes(todo.id)\n        );\n        return filtered;\n      });\n\n      setFavoriteTodos((prevFavoriteTodos) => {\n        const newFavoriteTodos = prevFavoriteTodos.filter(\n          (todoId) => !todoToDelete.includes(todoId)\n        );\n        localStorage.setItem(\"favoriteTodos\", JSON.stringify(newFavoriteTodos));\n        return newFavoriteTodos;\n      });\n\n      setSelectedTodos((prevSelectedTodos) =>\n        prevSelectedTodos.filter((todoId) => !todoToDelete.includes(todoId))\n      );\n\n      toast.success(\"Selected todos removed\");\n    } catch (error) {\n      toast.error(\"Failed to delete some todos\");\n    }\n  };\n\n  return { deleteTodos };\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,gBAAgB,QAAQ,mCAAmC;AACpE,SAASC,SAAS,QAAQ,gBAAgB;AAE1C,OAAO,MAAMC,wBAAwB,GAAIC,gBAAgB,IAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC;EAAS,CAAC,GAAGN,QAAQ,CAAC,CAAC;EAC/B,MAAM;IAAEO;EAAiB,CAAC,GAAGN,gBAAgB,CAAC,CAAC;EAC/C,MAAMO,WAAW,GAAG,MAAOC,aAAa,IAAK;IAC3C,MAAMC,YAAY,GAAG,CAAC,GAAGD,aAAa,CAAC;IACvCE,OAAO,CAACC,GAAG,CAAC;MAAEN,QAAQ;MAAEC;IAAiB,CAAC,CAAC;IAC3C,MAAMM,cAAc,GAAGH,YAAY,CAACI,GAAG,CAAEC,MAAM,IAC7CjB,KAAK,CAACkB,MAAM,CAAE,GAAEd,SAAU,IAAGa,MAAO,EAAC,CACvC,CAAC;IACD,IAAI;MACF,MAAME,OAAO,CAACC,GAAG,CAACL,cAAc,CAAC;MAEjCP,QAAQ,CAAEa,SAAS,IAAK;QACtB,MAAMC,QAAQ,GAAGD,SAAS,CAACE,MAAM,CAC9BC,IAAI,IAAK,CAACZ,YAAY,CAACa,QAAQ,CAACD,IAAI,CAACE,EAAE,CAC1C,CAAC;QACD,OAAOJ,QAAQ;MACjB,CAAC,CAAC;MAEFb,gBAAgB,CAAEkB,iBAAiB,IAAK;QACtC,MAAMC,gBAAgB,GAAGD,iBAAiB,CAACJ,MAAM,CAC9CN,MAAM,IAAK,CAACL,YAAY,CAACa,QAAQ,CAACR,MAAM,CAC3C,CAAC;QACDY,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAACJ,gBAAgB,CAAC,CAAC;QACvE,OAAOA,gBAAgB;MACzB,CAAC,CAAC;MAEFtB,gBAAgB,CAAE2B,iBAAiB,IACjCA,iBAAiB,CAACV,MAAM,CAAEN,MAAM,IAAK,CAACL,YAAY,CAACa,QAAQ,CAACR,MAAM,CAAC,CACrE,CAAC;MAEDhB,KAAK,CAACiC,OAAO,CAAC,wBAAwB,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdlC,KAAK,CAACkC,KAAK,CAAC,6BAA6B,CAAC;IAC5C;EACF,CAAC;EAED,OAAO;IAAEzB;EAAY,CAAC;AACxB,CAAC;AAACH,EAAA,CAtCWF,wBAAwB;EAAA,QACdH,QAAQ,EACAC,gBAAgB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}